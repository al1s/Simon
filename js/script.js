"use strict";var App={init:function(){this.originalSimonSounds={UL:164.814,UR:440,LL:277.18,LR:329.628},this.simonSwipeSounds={UL:783.991,UR:329.628,LL:261.63,LR:391.995},this.soundLib=this.simonSwipeSounds,this.stepsInGame=30,this.currentStep=1,this.playSound=this.playSound.bind(this)},playSound:function(t){log.debug("Play sound on a mouse click"),log.trace(t),this.changeStyle(t.target),this.play(t),this.stop()}},SoundGen={start:function(){this.context=new(window.AudioContext||window.webkitAudioContext)},setup:function(){this.oscillator=this.context.createOscillator(),this.gainNode=this.context.createGain(),this.oscillator.connect(this.gainNode),this.gainNode.connect(this.context.destination),this.oscillator.type="sine"},play:function(t){this.setup();var i=this.soundLib[t.target.id.split("_")[1]];log.debug("Tone value: "+i),this.oscillator.frequency.setValueAtTime(i,this.context.currentTime),this.gainNode.gain.setValueAtTime(0,this.context.currentTime),this.gainNode.gain.linearRampToValueAtTime(1,this.context.currentTime+.01),this.oscillator.start(this.context.currentTime),this.stop(this.context.currentTime)},stop:function(){this.gainNode.gain.exponentialRampToValueAtTime(.001,this.context.currentTime+1),this.oscillator.stop(this.context.currentTime+1)}},UI={listen:function(){var i=this;log.debug("Listening on UI");var t=document.querySelectorAll(".buttonGame");log.trace("Buttons selected:"),log.trace(t),t.forEach(function(t){return t.addEventListener("click",i.playSound)})},changeStyle:function(t){t.classList.toggle("--blink"),setTimeout(function(){return t.classList.toggle("--blink")},300)}};log.setLevel("debug"),Object.assign(App,SoundGen,UI),App.init(),App.start(),App.listen();
//# sourceMappingURL=script.js.map
